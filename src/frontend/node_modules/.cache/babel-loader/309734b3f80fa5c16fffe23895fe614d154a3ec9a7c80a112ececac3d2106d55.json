{"ast":null,"code":"var _jsxFileName = \"/Users/mb08eight/Documents/Developer-Portfolio/rock-paper-scissors/src/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport io from \"socket.io-client\";\nimport { useState, useEffect } from \"react\";\nimport Header from \"./components/header/header\";\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5001\");\nfunction App() {\n  _s();\n  const [user, setUser] = useState(() => {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  });\n  const [playerMove, setPlayerMove] = useState(null);\n  const [opponentMove, setOpponentMove] = useState(null);\n  const handleLogout = () => {\n    fetch(`${process.env.BACKEND_URL}/auth/logout`).then(() => {\n      localStorage.removeItem(\"user\");\n      setUser(null);\n    }).catch(error => console.error(\"Logout Error:\", error));\n  };\n  const handleLoginSuccess = response => {\n    fetch(`${process.env.BACKEND_URL}/auth/google`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        token: response.credential\n      })\n    }).then(res => {\n      res.json();\n    }).then(data => {\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      setUser(data.user);\n    }).catch(error => console.log(\"Login Error: \", error));\n  };\n  useEffect(() => {\n    socket.on(\"opponentMove\", move => {\n      setOpponentMove(move);\n    });\n    return;\n  }, []);\n  const handleMove = move => {\n    setPlayerMove(move);\n    socket.emit(\"playerMove\", move);\n  };\n  return /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n    clientId: process.env.GOOGLE_AUTH.CLIENT_ID,\n    children: /*#__PURE__*/_jsxDEV(Header, {\n      user: user,\n      onLoginSuccess: handleLoginSuccess,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"7RFzrICE8s88yRhemqku1C5GVck=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["io","useState","useEffect","Header","GoogleOAuthProvider","jsxDEV","_jsxDEV","socket","App","_s","user","setUser","JSON","parse","localStorage","getItem","playerMove","setPlayerMove","opponentMove","setOpponentMove","handleLogout","fetch","process","env","BACKEND_URL","then","removeItem","catch","error","console","handleLoginSuccess","response","method","headers","body","stringify","token","credential","res","json","data","setItem","log","on","move","handleMove","emit","clientId","GOOGLE_AUTH","CLIENT_ID","children","onLoginSuccess","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mb08eight/Documents/Developer-Portfolio/rock-paper-scissors/src/frontend/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport io from \"socket.io-client\";\nimport { useState, useEffect } from \"react\";\nimport Header from \"./components/header/header\";\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\nconst socket = io(\"http://localhost:5001\");\n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  });\n  const [playerMove, setPlayerMove] = useState(null);\n  const [opponentMove, setOpponentMove] = useState(null);\n\n  const handleLogout = () => {\n    fetch(`${process.env.BACKEND_URL}/auth/logout`)\n      .then(() => {\n        localStorage.removeItem(\"user\");\n        setUser(null);\n      })\n      .catch((error) => console.error(\"Logout Error:\", error));\n  };\n\n  const handleLoginSuccess = (response) => {\n    fetch(`${process.env.BACKEND_URL}/auth/google`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ token: response.credential }),\n    })\n      .then((res) => {\n        res.json();\n      })\n      .then((data) => {\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n        setUser(data.user);\n      })\n      .catch((error) => console.log(\"Login Error: \", error));\n  };\n\n  useEffect(() => {\n    socket.on(\"opponentMove\", (move) => {\n      setOpponentMove(move);\n    });\n    return;\n  }, []);\n\n  const handleMove = (move) => {\n    setPlayerMove(move);\n    socket.emit(\"playerMove\", move);\n  };\n\n  return (\n    <GoogleOAuthProvider clientId={process.env.GOOGLE_AUTH.CLIENT_ID}>\n      <Header\n        user={user}\n        onLoginSuccess={handleLoginSuccess}\n        onLogout={handleLogout}\n      />\n      {/*<div>\n        <button onClick={() => handleMove(\"rock\")}>Rock</button>\n        <button onClick={() => handleMove(\"paper\")}>Paper</button>\n        <button onClick={() => handleMove(\"scissors\")}>Scissors</button>\n        <div>\n          <p>Your move: {playerMove}</p>\n          <p>Opponent's move: {opponentMove}</p>\n        </div>\n      </div>*/}\n    </GoogleOAuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}