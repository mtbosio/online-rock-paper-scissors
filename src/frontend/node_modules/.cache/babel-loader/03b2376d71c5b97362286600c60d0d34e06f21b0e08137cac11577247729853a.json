{"ast":null,"code":"import\"./App.css\";import io from\"socket.io-client\";import{useState,useEffect}from\"react\";import Header from\"./components/header/header\";import{GoogleOAuthProvider}from\"@react-oauth/google\";import{jsx as _jsx}from\"react/jsx-runtime\";const socket=io(\"http://localhost:5001\");function App(){const[user,setUser]=useState(()=>{return JSON.parse(localStorage.getItem(\"user\"));});const[playerMove,setPlayerMove]=useState(null);const[opponentMove,setOpponentMove]=useState(null);const handleLogout=()=>{fetch(`${process.env.BACKEND_URL}/auth/logout`).then(()=>{localStorage.removeItem(\"user\");setUser(null);}).catch(error=>console.error(\"Logout Error:\",error));};const handleLoginSuccess=response=>{fetch(`${process.env.BACKEND_URL}/auth/google`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:response.credential})}).then(res=>{res.json();}).then(data=>{localStorage.setItem(\"user\",JSON.stringify(data.user));setUser(data.user);}).catch(error=>console.log(\"Login Error: \",error));};useEffect(()=>{socket.on(\"opponentMove\",move=>{setOpponentMove(move);});return;},[]);const handleMove=move=>{setPlayerMove(move);socket.emit(\"playerMove\",move);};return/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:process.env.GOOGLE_AUTH_CLIENT_ID,children:/*#__PURE__*/_jsx(Header,{user:user,onLoginSuccess:handleLoginSuccess,onLogout:handleLogout})});}export default App;","map":{"version":3,"names":["io","useState","useEffect","Header","GoogleOAuthProvider","jsx","_jsx","socket","App","user","setUser","JSON","parse","localStorage","getItem","playerMove","setPlayerMove","opponentMove","setOpponentMove","handleLogout","fetch","process","env","BACKEND_URL","then","removeItem","catch","error","console","handleLoginSuccess","response","method","headers","body","stringify","token","credential","res","json","data","setItem","log","on","move","handleMove","emit","clientId","GOOGLE_AUTH_CLIENT_ID","children","onLoginSuccess","onLogout"],"sources":["/Users/mb08eight/Documents/Developer-Portfolio/rock-paper-scissors/src/frontend/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport io from \"socket.io-client\";\nimport { useState, useEffect } from \"react\";\nimport Header from \"./components/header/header\";\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\nconst socket = io(\"http://localhost:5001\");\n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  });\n  const [playerMove, setPlayerMove] = useState(null);\n  const [opponentMove, setOpponentMove] = useState(null);\n\n  const handleLogout = () => {\n    fetch(`${process.env.BACKEND_URL}/auth/logout`)\n      .then(() => {\n        localStorage.removeItem(\"user\");\n        setUser(null);\n      })\n      .catch((error) => console.error(\"Logout Error:\", error));\n  };\n\n  const handleLoginSuccess = (response) => {\n    fetch(`${process.env.BACKEND_URL}/auth/google`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ token: response.credential }),\n    })\n      .then((res) => {\n        res.json();\n      })\n      .then((data) => {\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n        setUser(data.user);\n      })\n      .catch((error) => console.log(\"Login Error: \", error));\n  };\n\n  useEffect(() => {\n    socket.on(\"opponentMove\", (move) => {\n      setOpponentMove(move);\n    });\n    return;\n  }, []);\n\n  const handleMove = (move) => {\n    setPlayerMove(move);\n    socket.emit(\"playerMove\", move);\n  };\n\n  return (\n    <GoogleOAuthProvider clientId={process.env.GOOGLE_AUTH_CLIENT_ID}>\n      <Header\n        user={user}\n        onLoginSuccess={handleLoginSuccess}\n        onLogout={handleLogout}\n      />\n      {/*<div>\n        <button onClick={() => handleMove(\"rock\")}>Rock</button>\n        <button onClick={() => handleMove(\"paper\")}>Paper</button>\n        <button onClick={() => handleMove(\"scissors\")}>Scissors</button>\n        <div>\n          <p>Your move: {playerMove}</p>\n          <p>Opponent's move: {opponentMove}</p>\n        </div>\n      </div>*/}\n    </GoogleOAuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,WAAW,CAClB,MAAO,CAAAA,EAAE,KAAM,kBAAkB,CACjC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,OAASC,mBAAmB,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAC1D,KAAM,CAAAC,MAAM,CAAGP,EAAE,CAAC,uBAAuB,CAAC,CAE1C,QAAS,CAAAQ,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAM,CACrC,MAAO,CAAAU,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACjD,CAAC,CAAC,CACF,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACgB,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAkB,YAAY,CAAGA,CAAA,GAAM,CACzBC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,cAAc,CAAC,CAC5CC,IAAI,CAAC,IAAM,CACVX,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC,CAC/Bf,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAAC,CACDgB,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAE,kBAAkB,CAAIC,QAAQ,EAAK,CACvCV,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,cAAc,CAAE,CAC9CQ,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEtB,IAAI,CAACuB,SAAS,CAAC,CAAEC,KAAK,CAAEL,QAAQ,CAACM,UAAW,CAAC,CACrD,CAAC,CAAC,CACCZ,IAAI,CAAEa,GAAG,EAAK,CACbA,GAAG,CAACC,IAAI,CAAC,CAAC,CACZ,CAAC,CAAC,CACDd,IAAI,CAAEe,IAAI,EAAK,CACd1B,YAAY,CAAC2B,OAAO,CAAC,MAAM,CAAE7B,IAAI,CAACuB,SAAS,CAACK,IAAI,CAAC9B,IAAI,CAAC,CAAC,CACvDC,OAAO,CAAC6B,IAAI,CAAC9B,IAAI,CAAC,CACpB,CAAC,CAAC,CACDiB,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACa,GAAG,CAAC,eAAe,CAAEd,KAAK,CAAC,CAAC,CAC1D,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACdK,MAAM,CAACmC,EAAE,CAAC,cAAc,CAAGC,IAAI,EAAK,CAClCzB,eAAe,CAACyB,IAAI,CAAC,CACvB,CAAC,CAAC,CACF,OACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,UAAU,CAAID,IAAI,EAAK,CAC3B3B,aAAa,CAAC2B,IAAI,CAAC,CACnBpC,MAAM,CAACsC,IAAI,CAAC,YAAY,CAAEF,IAAI,CAAC,CACjC,CAAC,CAED,mBACErC,IAAA,CAACF,mBAAmB,EAAC0C,QAAQ,CAAEzB,OAAO,CAACC,GAAG,CAACyB,qBAAsB,CAAAC,QAAA,cAC/D1C,IAAA,CAACH,MAAM,EACLM,IAAI,CAAEA,IAAK,CACXwC,cAAc,CAAEpB,kBAAmB,CACnCqB,QAAQ,CAAE/B,YAAa,CACxB,CAAC,CAUiB,CAAC,CAE1B,CAEA,cAAe,CAAAX,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}